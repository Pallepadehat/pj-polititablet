generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
  relationMode = "prisma"
}

model TabletUser {
  id             Int      @id @default(autoincrement())
  email          String   @unique
  password       String
  name           String?
  admin          Boolean? @default(true)
  pnummer        String?
  onDuty         Boolean? @default(false)
  notifications  Boolean? @default(false)
  
  // Relations
  tabletSager            TabletSager[] @relation("participatingOfficers")
  createdEfterlysninger TabletEfterlysninger[] @relation("createdEfterlysninger")
}

model TabletSager {
  id        Int     @id @default(autoincrement())
  sagsNr    String  @unique
  personNr  String 
  pNummer   String
  beskrivelse String?
  boede     String?
  faengsel  String?
  klip     String?
  oprettet  DateTime @default(now())
  opdateret DateTime @updatedAt
  
  // Relations
  participatingOfficers TabletUser[] @relation("participatingOfficers")
}

model TabletEfterlysninger {
  id          Int     @id @default(autoincrement())
  title       String
  beskrivelse String
  oprettet    DateTime @default(now())
  lukket     Boolean @default(false)
  opdateret   DateTime @updatedAt
  
  // Relation
  createdBy TabletUser @relation("createdEfterlysninger", fields: [createdById], references: [id])
  createdById Int

  @@index([createdById])
}
